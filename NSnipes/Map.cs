using System.Text;

namespace NSnipes;

public class Map
{
    private readonly string[] _map = new string[]
    {
"TOP LEFT                                                                                                                                              ║                             ║                                                                                         ║                                                                                              TOP RIGHT  ",
"                                                                                                                                                      ║                             ║                                                                                         ║                                                                                                         ",
"                                                                                                                                                      ║                             ║                                                                                         ║                                                                                                         ",
"                                                                                                                                                      ║                             ║                                                                                         ║                                                                                                         ",
"               ═══════════════╗              ╔═════════════════════════════╦═══════════════════════════════════════════════════════════╗              ╠═══════════════              ║              ╔═════════════════════════════╗              ═══════════════╗              ║              ╔═════════════════════════════════════════════              ╔══════════════╗               ",
"                              ║              ║                             ║                                                           ║              ║                             ║              ║                             ║                             ║              ║              ║                                                           ║              ║               ",
"                              ║              ║                             ║                                                           ║              ║                             ║              ║                             ║                             ║              ║              ║                                                           ║              ║               ",
"                              ║              ║                             ║                                                           ║              ║                             ║              ║                             ║                             ║              ║              ║                                                           ║              ║               ",
"                              ║              ║                             ║                                                           ║              ║                             ║              ║                             ║                             ║              ║              ║                                                           ║              ║               ",
"════════════════              ║              ║              ║              ║              ══════════════════════════════╗              ║              ║              ═══════════════╝              ║              ║              ╠═══════════════              ║              ╚══════════════╝              ╔══════════════╦═════════════════════════════╝              ║               ",
"                              ║              ║              ║              ║                                            ║              ║              ║                                            ║              ║              ║                             ║                                            ║              ║                                                            ",
"                              ║              ║              ║              ║                                            ║              ║              ║                                            ║              ║              ║                             ║                                            ║              ║                                                            ",
"                              ║              ║              ║              ║                                            ║              ║              ║                                            ║              ║              ║                             ║                                            ║              ║                                                            ",
"                              ║              ║              ║              ║                                            ║              ║              ║                                            ║              ║              ║                             ║                                            ║              ║                                                            ",
"               ╔══════════════╝              ║              ╚══════════════╝              ╔═════════════════════════════╣              ║              ╠═════════════════════════════╦══════════════╝              ║              ║              ╔══════════════╩════════════════════════════════════════════╝              ║              ═══════════════╦═════════════════════════════ ",
"               ║                             ║                                            ║                             ║                             ║                             ║                             ║                             ║                                                                          ║                             ║                              ",
"               ║                             ║                                            ║                             ║                             ║                             ║                             ║                             ║                                                                          ║                             ║                              ",
"               ║                             ║                                            ║                             ║                             ║                             ║                             ║                             ║                                                                          ║                             ║                              ",
"               ║                             ║                                            ║                             ║                             ║                             ║                             ║                             ║                                                                          ║                             ║                              ",
"═══════════════╝              ╔══════════════╣              ╔══════════════╦══════════════╝              ║              ╚══════════════╗              ║              ║              ║              ╔══════════════╩═════════════════════════════╣              ══════════════════════════════════════════════              ╚══════════════╗              ╚══════════════╗               ",
"                              ║              ║              ║              ║                             ║                             ║                             ║                             ║                                            ║                                                                                         ║                             ║               ",
"                              ║              ║              ║              ║                             ║                             ║                             ║                             ║                                            ║                                                                                         ║                             ║               ",
"                              ║              ║              ║              ║                             ║                             ║                             ║                             ║                                            ║                                                                                         ║                             ║               ",
"                              ║              ║              ║              ║                             ║                             ║                             ║                             ║                                            ║                                                                                         ║                             ║               ",
"               ╔══════════════╣              ║              ║              ║              ═══════════════╬══════════════╗              ╠═════════════════════════════╬══════════════╦══════════════╝              ══════════════════════════════╝              ╔═══════════════              ╔════════════════════════════════════════════╬═══════════════              ║               ",
"               ║              ║                             ║              ║                             ║              ║              ║                             ║              ║                                                                          ║                             ║                                            ║                             ║               ",
"               ║              ║                             ║              ║                             ║              ║              ║                             ║              ║                                                                          ║                             ║                                            ║                             ║               ",
"               ║              ║                             ║              ║                             ║              ║              ║                             ║              ║                                                                          ║                             ║                                            ║                             ║               ",
"               ║              ║                             ║              ║                             ║              ║              ║                             ║              ║                                                                          ║                             ║                                            ║                             ║               ",
"               ║              ║              ╔══════════════╝              ╚══════════════╗              ║              ║              ║              ║              ║              ║              ═══════════════╦═════════════════════════════╗              ║              ═══════════════╣              ╔══════════════╗              ║              ╔══════════════╝               ",
"               ║              ║              ║                                            ║                             ║                             ║                                                           ║                             ║              ║                             ║              ║              ║                             ║                              ",
"               ║              ║              ║                                            ║                             ║                             ║                                                           ║                             ║              ║                             ║              ║              ║                             ║                              ",
"               ║              ║              ║                                            ║                             ║                             ║                                                           ║                             ║              ║                             ║              ║              ║                             ║                              ",
"               ║              ║              ║                                            ║                             ║                             ║                                                           ║                             ║              ║                             ║              ║              ║                             ║                              ",
"               ║              ║              ╚═══════════════              ╔══════════════╩═══════════════              ╚══════════════╦══════════════╝                             ╔═════════════════════════════╝              ║              ║              ╠═══════════════              ║              ║              ╚═════════════════════════════╬═══════════════               ",
"               ║              ║                                            ║                                                           ║                                            ║                                            ║              ║              ║                             ║              ║                                            ║                              ",
"               ║              ║                                            ║                                                           ║                                            ║                                            ║              ║              ║                             ║              ║                                            ║                              ",
"               ║              ║                                            ║                                                           ║                                            ║                                            ║              ║              ║                             ║              ║                                            ║                              ",
"               ║              ║                                            ║                                                           ║                                            ║                                            ║              ║              ║                             ║              ║                                            ║                              ",
"               ║              ║                             ╔══════════════╝              ╔═════════════════════════════╦══════════════╝              ║              ╔══════════════╝              ╔═════════════════════════════╝              ║              ║              ═══════════════╝              ╚══════════════╗              ║              ║              ═══════════════ ",
"               ║                                            ║                             ║                             ║                             ║              ║                             ║                                            ║              ║                                                           ║              ║              ║                              ",
"               ║                                            ║                             ║                             ║                             ║              ║                             ║                                            ║              ║                                                           ║              ║              ║                              ",
"               ║                                            ║                             ║                             ║                             ║              ║                             ║                                            ║              ║                                                           ║              ║              ║                              ",
"               ║                                            ║                             ║                             ║                             ║              ║                             ║                                            ║              ║                                                           ║              ║              ║                              ",
"               ║              ═══════════════╗              ║              ═══════════════╣              ║              ║              ╔══════════════╩══════════════╝              ╔══════════════╝              ║              ╔══════════════╝              ╠════════════════════════════════════════════╗              ║              ║              ╚═══════════════               ",
"               ║                             ║              ║                             ║              ║              ║              ║                                            ║                             ║              ║                             ║                                            ║              ║              ║                                             ",
"               ║                             ║              ║                             ║              ║              ║              ║                                            ║                             ║              ║                             ║                                            ║              ║              ║                                             ",
"               ║                             ║              ║                             ║              ║              ║              ║                                            ║                             ║              ║                             ║                                            ║              ║              ║                                             ",
"               ║                             ║              ║                             ║              ║              ║              ║                                            ║                             ║              ║                             ║                                            ║              ║              ║                                             ",
"               ╠═══════════════              ║              ╚══════════════╗              ║              ║              ║              ║              ╔═════════════════════════════╣              ═══════════════╣              ║              ║              ║              ╔═══════════════              ║              ║              ╚═════════════════════════════╗               ",
"               ║                             ║                             ║                             ║              ║              ║              ║                             ║                             ║              ║              ║                             ║                             ║              ║                                            ║               ",
"               ║                             ║                             ║                             ║              ║              ║              ║                             ║                             ║              ║              ║                             ║                             ║              ║                                            ║               ",
"               ║                             ║                             ║                             ║              ║              ║              ║                             ║                             ║              ║              ║                             ║                             ║              ║                                            ║               ",
"               ║                             ║                             ║                             ║              ║              ║              ║                             ║                             ║              ║              ║                             ║                             ║              ║                                            ║               ",
"               ╚══════════════╗              ║              ║              ║              ╔══════════════╩══════════════╝              ║              ║              ║              ╚══════════════╗              ╚══════════════╣              ╠═════════════════════════════╣              ╔══════════════╣              ╚══════════════╗              ║              ║               ",
"                              ║                             ║              ║              ║                                            ║              ║              ║                             ║                             ║              ║                             ║              ║              ║                             ║              ║              ║               ",
"                              ║                             ║              ║              ║                                            ║              ║              ║                             ║                             ║              ║                             ║              ║              ║                             ║              ║              ║               ",
"                              ║                             ║              ║              ║                                            ║              ║              ║                             ║                             ║              ║                             ║              ║              ║                             ║              ║              ║               ",
"                              ║                             ║              ║              ║                                            ║              ║              ║                             ║                             ║              ║                             ║              ║              ║                             ║              ║              ║               ",
"               ║              ╚═════════════════════════════╩══════════════╝              ║              ══════════════════════════════╝              ║              ╚═════════════════════════════╩══════════════╗              ║              ║              ═══════════════╣              ║              ╚══════════════╗              ╠══════════════╝              ║               ",
"               ║                                                                          ║                                                           ║                                                           ║                             ║                             ║              ║                             ║              ║                             ║               ",
"               ║                                                                          ║                                                           ║                                                           ║                             ║                             ║              ║                             ║              ║                             ║               ",
"               ║                                                                          ║                                                           ║                                                           ║                             ║                             ║              ║                             ║              ║                             ║               ",
"               ║                                                                          ║                                                           ║                                                           ║                             ║                             ║              ║                             ║              ║                             ║               ",
"═══════════════╩══════════════╗              ╔════════════════════════════════════════════╬══════════════════════════════                             ║              ╔══════════════════════════════              ╚═════════════════════════════╩═══════════════              ║              ╚══════════════╗              ║              ║              ╔══════════════╝               ",
"                              ║              ║                                            ║                                                           ║              ║                                                           ║                                            ║                             ║                                            ║                              ",
"                              ║              ║                                            ║                                                           ║              ║                                                           ║                                            ║                             ║                                            ║                              ",
"                              ║              ║                                            ║                                                           ║              ║                                                           ║                                            ║                             ║                                            ║                              ",
"                              ║              ║                                            ║                                                           ║              ║                                                           ║                                            ║                             ║                                            ║                              ",
"               ║              ║              ║              ╔═════════════════════════════╣              ══════════════════════════════╗              ║              ║              ╔═════════════════════════════╗              ║              ══════════════════════════════╩══════════════╗              ╚══════════════                ══════════════╣              ╔══════════════ ",
"               ║              ║                             ║                             ║                                            ║              ║              ║              ║                             ║              ║                                                           ║                                                           ║              ║               ",
"               ║              ║                             ║                             ║                                            ║              ║              ║              ║                             ║              ║                                                           ║                                                           ║              ║               ",
"               ║              ║                             ║                             ║                                            ║              ║              ║              ║                             ║              ║                                                           ║                                                           ║              ║               ",
"               ║              ║                             ║                             ║                                            ║              ║              ║              ║                             ║              ║                                                           ║                                                           ║              ║               ",
"               ║              ╚═════════════════════════════╝              ║              ╚══════════════╗              ║              ║              ╚══════════════╝              ║              ║              ║              ╠═════════════════════════════╦═══════════════              ╚════════════════════════════════════════════╗              ║              ║               ",
"               ║                                                           ║                             ║              ║              ║                                            ║              ║              ║              ║                             ║                                                                          ║              ║              ║               ",
"               ║                                                           ║                             ║              ║              ║                                            ║              ║              ║              ║                             ║                                                                          ║              ║              ║               ",
"               ║                                                           ║                             ║              ║              ║                                            ║              ║              ║              ║                             ║                                                                          ║              ║              ║               ",
"               ║                                                           ║                             ║              ║              ║                                            ║              ║              ║              ║                             ║                                                                          ║              ║              ║               ",
"               ║              ╔════════════════════════════════════════════╬═══════════════              ╚══════════════╝              ╠═════════════════════════════╦══════════════╝              ╚══════════════╣              ║              ║              ║              ║              ╔══════════════               ╔══════════════╝              ║              ║               ",
"               ║              ║                                            ║                                                           ║                             ║                                            ║                             ║                             ║              ║                             ║                             ║                              ",
"               ║              ║                                            ║                                                           ║                             ║                                            ║                             ║                             ║              ║                             ║                             ║                              ",
"               ║              ║                                            ║                                                           ║                             ║                                            ║                             ║                             ║              ║                             ║                             ║                              ",
"               ║              ║                                            ║                                                           ║                             ║                                            ║                             ║                             ║              ║                             ║                             ║                              ",
"               ║              ║              ═══════════════╗              ╚══════════════╦═════════════════════════════╗              ║              ║              ║              ╔═══════════════              ╠═══════════════              ╠═════════              ══════╣              ║              ║              ║              ╔══════════════╬═══════════════               ",
"               ║              ║                             ║                             ║                             ║              ║              ║                             ║                             ║                             ║                             ║              ║              ║                             ║              ║                              ",
"               ║              ║                             ║                             ║                             ║              ║              ║                             ║                             ║                             ║                             ║              ║              ║                             ║              ║                              ",
"               ║              ║                             ║                             ║                             ║              ║              ║                             ║                             ║                             ║                             ║              ║              ║                             ║              ║                              ",
"               ║              ║                             ║                             ║                             ║              ║              ║                             ║                             ║                             ║                             ║              ║              ║                             ║              ║                              ",
"               ╚══════════════╬═══════════════              ╠══════════════╗              ╚══════════════╗              ║              ║              ╚══════════════╦══════════════╣              ═══════════════╝              ╔══════════════╣              ═══════════════╩══════════════╝              ╠═════════════════════════════╝              ║              ╔══════════════ ",
"                              ║                             ║              ║                             ║                             ║                             ║              ║                                            ║              ║                                                           ║                                            ║              ║               ",
"                              ║                             ║              ║                             ║                             ║                             ║              ║                                            ║              ║                                                           ║                                            ║              ║               ",
"                              ║                             ║              ║                             ║                             ║                             ║              ║                                            ║              ║                                                           ║                                            ║              ║               ",
"                              ║                             ║              ║                             ║                             ║                             ║              ║                                            ║              ║                                                           ║                                            ║              ║               ",
"═══════════════╗              ║              ╔══════════════╝              ╚══════════════╗              ╚═════════════════════════════╝                             ║              ╠══════════════               ═══════════════╝              ╚════════════════════════════════════════════╦══════════════╝              ══════════════════════════════╣              ║               ",
"               ║                             ║                                            ║                                                                                         ║                                                                                                        ║                                                           ║                              ",
"               ║                             ║                                            ║                                                                                         ║                                                                                                        ║                                                           ║                              ",
"               ║                             ║                                            ║                                                                                         ║                                                                                                        ║                                                           ║                              ",
"               ║                             ║                                            ║                                                                                         ║                                                                                                        ║                                                           ║                              ",
"               ╚═════════════════════════════╣              ════════════════              ╚════════════════════════════════════════════╗              ═══════════════╗              ║              ╔══════════════╦═══════════════                             ══════════════════════════════╝              ╔═════════════════════════════╗              ╚══════════════╗               ",
"                                             ║                                                                                         ║                             ║                             ║              ║                                                                                         ║                             ║                             ║               ",
"                                             ║                                                                                         ║                             ║                             ║              ║                                                                                         ║                             ║                             ║               ",
"                                             ║                                                                                         ║                             ║                             ║              ║                                                                                         ║                             ║                             ║               ",
"                                             ║                                                                                         ║                             ║                             ║              ║                                                                                         ║                             ║                             ║               ",
"               ║              ╔══════════════╩══════════════╗              ╔═════════════════════════════════════════════              ║              ═══════════════╩══════════════╦══════════════╝              ║              ╔═══════════════              ╔═════════════════════════════╦══════════════╝              ║              ╠══════════════╗              ║               ",
"               ║              ║                             ║              ║                                                           ║                                            ║                                            ║                             ║                             ║                             ║              ║              ║                              ",
"               ║              ║                             ║              ║                                                           ║                                            ║                                            ║                             ║                             ║                             ║              ║              ║                              ",
"               ║              ║                             ║              ║                                                           ║                                            ║                                            ║                             ║                             ║                             ║              ║              ║                              ",
"               ║              ║                             ║              ║                                                           ║                                            ║                                            ║                             ║                             ║                             ║              ║              ║                              ",
"               ║              ║              ║              ║              ║              ╔═══════════════              ╔══════════════╩══════════════╗              ═══════════════╝              ╔═════════════════════════════╣              ╔══════════════╝              ║              ╚═══════════════              ║              ║              ╚═════════════════════════════ ",
"               ║                             ║              ║              ║              ║                             ║                             ║                                            ║                             ║              ║                             ║                                            ║              ║                                             ",
"               ║                             ║              ║              ║              ║                             ║                             ║                                            ║                             ║              ║                             ║                                            ║              ║                                             ",
"               ║                             ║              ║              ║              ║                             ║                             ║                                            ║                             ║              ║                             ║                                            ║              ║                                             ",
"               ║                             ║              ║              ║              ║                             ║                             ║                                            ║                             ║              ║                             ║                                            ║              ║                                             ",
"               ╠═════════════════════════════╝              ║              ║              ╚═════════════════════════════╝              ║              ╠════════════════════════════════════════════╣              ═══════════════╣              ║              ╔══════════════╬════════════════════════════════════════════╣              ╠══════════════════════════════               ",
"               ║                                            ║              ║                                                           ║              ║                                            ║                             ║                             ║              ║                                            ║              ║                                             ",
"               ║                                            ║              ║                                                           ║              ║                                            ║                             ║                             ║              ║                                            ║              ║                                             ",
"               ║                                            ║              ║                                                           ║              ║                                            ║                             ║                             ║              ║                                            ║              ║                                             ",
"               ║                                            ║              ║                                                           ║              ║                                            ║                             ║                             ║              ║                                            ║              ║                                             ",
"               ║              ══════════════════════════════╝              ╚═══════════════════════════════════════════════════════════╣              ║              ║              ═══════════════╝              ║              ╚═════════════════════════════╝              ║              ║              ═══════════════╝              ║              ╔═══════════════               ",
"LEFT           ║                                                                                                                       ║                             ║                                            ║                                                                          ║                                                           ║                              ",
"               ║                                                                                                                       ║                             ║                                            ║                                                                          ║                                                           ║                              ",
"               ║                                                                                                                       ║                             ║                                            ║                                                                          ║                                                           ║                              ",
"BOTTOM         ║                                                                                                                       ║                             ║                                            ║                                                                          ║                                                           ║                bottom right ."
    };

    public string[] FullMap => _map;
    public int MapWidth => _map[0].Length;
    public int MapHeight => _map.Length;

    public Map()
    {
       
  
    }

    public string[] GetMap(int frameWidth, int frameHeight, int x, int y)
    {
        string[] rows = new string[frameHeight];
        int mapRow = (y - (frameHeight / 2) + FullMap.Length) % FullMap.Length;
        int mapCol = x - (frameWidth / 2);

        for (int r = 0; r < frameHeight; r++)
        {
            string fullRow = FullMap[mapRow];
            int rowLength = fullRow.Length;

            // Handle negative mapCol by wrapping around from the right  
            int startCol = (mapCol % rowLength + rowLength) % rowLength;

            char[] chars;
            // Construct the row by taking from the right and wrapping to the left if needed  
            if (startCol + frameWidth <= rowLength)
            {
                chars = new char[frameWidth];
                fullRow.CopyTo(startCol, chars, 0, frameWidth);
                rows[r] = new string(chars);
            }
            else
            {
                int rightPartLength = rowLength - startCol;
                chars = new char[rightPartLength];
                fullRow.CopyTo(startCol, chars, 0, rightPartLength);
                char[] charsRight = new char[frameWidth - rightPartLength];
                fullRow.CopyTo(0, charsRight, 0, frameWidth - rightPartLength);
                rows[r] = new string(chars) + new string(charsRight);
            }

            // Increment mapRow and wrap around if it exceeds the length of FullMap  
            mapRow = (mapRow + 1) % FullMap.Length;
        }

        return rows;
    }
}
